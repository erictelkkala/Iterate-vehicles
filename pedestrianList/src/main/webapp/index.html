<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
    <title>Hello App Engine</title>
    <script>
    function sendData(fishform){
    	var fish=new Object();
    	fish.breed=fishform.breed.value;
    	fish.weight=fishform.weight.value;
    	
    	var x=JSON.stringify(fish);
    	
    	xmlhttp = new XMLHttpRequest();
    	xmlhttp.onreadystatechange = function() {
    	  if (this.readyState == 4 && this.status == 200) {
    	    document.getElementById("result").innerHTML = this.responseText;
    	    var d=JSON.
    	  }
    	};
    	xmlhttp.open("POST", "./rest/fishservice/addjsonfish", true);
//    	xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    	xmlhttp.setRequestHeader("Content-type", "application/json");
//    	xmlhttp.send("person=" + x);	
    	xmlhttp.send(x);    	
    }
    </script>
  </head>

  <body>
    <h1>Hello App Engine!</h1>

<h2>Form parameters</h2>
	<form action='./rest/fishservice/addfish' method='post'>
	Breed: <input type='text' name='breed' value=''><br>
	Weight: <input type='text' name='weight' value=''><br>
	<input type='submit' name='ok' value='OK'><br>
	</form>

<h2>JSON String</h2>
	<form action='./rest/fishservice/addjsonfish' method='post'>
	Breed: <input type='text' name='breed' value=''><br>
	Weight: <input type='text' name='weight' value=''><br>
	<input type='button' name='ok' value='OK' onclick="sendData(this.form);"><br>
	</form>
<p id='result'>
The result comes here
</p>
  </body>
</html>